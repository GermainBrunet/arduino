Following is the arduino code and a breadboard example.
